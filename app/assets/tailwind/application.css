@import 'tailwindcss';

@theme {
  /* Legacy colors */
  --color-white: var(--color-white);
  --color-black: var(--color-black);
  --color-light: var(--color-light);
  --color-mid: var(--color-mid);
  --color-dark: var(--color-dark);
  --color-highlight: var(--color-highlight);
  --color-active: var(--color-active);
  --color-inactive: var(--color-inactive);
  --color-warning: var(--color-warning);
  --color-error: var(--color-error);

  /* Tailwind UI compatible primary scale */
  --color-primary-50: var(--color-primary-50);
  --color-primary-100: var(--color-primary-100);
  --color-primary-200: var(--color-primary-200);
  --color-primary-300: var(--color-primary-300);
  --color-primary-400: var(--color-primary-400);
  --color-primary-500: var(--color-primary-500);
  --color-primary-600: var(--color-primary-600);
  --color-primary-700: var(--color-primary-700);
  --color-primary-800: var(--color-primary-800);
  --color-primary-900: var(--color-primary-900);
  --color-primary-950: var(--color-primary-950);

  /* Map indigo to primary for Tailwind UI compatibility */
  --color-indigo-50: var(--color-primary-50);
  --color-indigo-100: var(--color-primary-100);
  --color-indigo-200: var(--color-primary-200);
  --color-indigo-300: var(--color-primary-300);
  --color-indigo-400: var(--color-primary-400);
  --color-indigo-500: var(--color-primary-500);
  --color-indigo-600: var(--color-primary-600);
  --color-indigo-700: var(--color-primary-700);
  --color-indigo-800: var(--color-primary-800);
  --color-indigo-900: var(--color-primary-900);
  --color-indigo-950: var(--color-primary-950);

  /* Gray scale */
  --color-gray-50: var(--color-gray-50);
  --color-gray-100: var(--color-gray-100);
  --color-gray-200: var(--color-gray-200);
  --color-gray-300: var(--color-gray-300);
  --color-gray-400: var(--color-gray-400);
  --color-gray-500: var(--color-gray-500);
  --color-gray-600: var(--color-gray-600);
  --color-gray-700: var(--color-gray-700);
  --color-gray-800: var(--color-gray-800);
  --color-gray-900: var(--color-gray-900);
  --color-gray-950: var(--color-gray-950);
}

@layer base {
  html[data-theme='default'] {
    --color-white: rgb(249, 249, 249); /* #F9F9F9 */
    --color-black: rgb(26, 22, 29); /* #1A161D */

    /* Legacy color variables (kept for backwards compatibility) */
    --color-light: rgb(238, 206, 230); /* #EECEE6 */
    --color-mid: rgb(141, 94, 183); /* #8D5EB7 */
    --color-dark: rgb(33, 29, 73); /* #211D49 */

    --color-highlight: rgb(208, 64, 20); /* #D04014 */

    --color-active: rgb(0, 135, 85); /* #008755 */
    --color-warning: rgb(250, 207, 142); /* #FACF8E */
    --color-inactive: rgb(216, 247, 245); /* #d6e4f7 */
    --color-error: rgb(245, 129, 129); /* #F58181 */

    /* Full Tailwind UI compatible color scale - Primary (Purple palette) */
    --color-primary-50: rgb(250, 245, 255); /* Very light purple */
    --color-primary-100: rgb(243, 232, 255); /* Lighter purple */
    --color-primary-200: rgb(233, 213, 255); /* Light purple */
    --color-primary-300: rgb(216, 180, 254); /* Medium light purple */
    --color-primary-400: rgb(192, 132, 252); /* Medium purple */
    --color-primary-500: rgb(141, 94, 183); /* Main brand color (mid) */
    --color-primary-600: rgb(120, 80, 160); /* Darker purple */
    --color-primary-700: rgb(100, 65, 140); /* Dark purple */
    --color-primary-800: rgb(60, 45, 100); /* Very dark purple */
    --color-primary-900: rgb(33, 29, 73); /* Darkest (dark) */
    --color-primary-950: rgb(24, 20, 50); /* Ultra dark */

    /* Gray scale for UI elements */
    --color-gray-50: rgb(249, 250, 251);
    --color-gray-100: rgb(243, 244, 246);
    --color-gray-200: rgb(229, 231, 235);
    --color-gray-300: rgb(209, 213, 219);
    --color-gray-400: rgb(156, 163, 175);
    --color-gray-500: rgb(107, 114, 128);
    --color-gray-600: rgb(75, 85, 99);
    --color-gray-700: rgb(55, 65, 81);
    --color-gray-800: rgb(31, 41, 55);
    --color-gray-900: rgb(17, 24, 39);
    --color-gray-950: rgb(3, 7, 18);
  }

  html[data-theme='sky'] {
    --color-white: rgb(249, 249, 249); /* #F9F9F9 */
    --color-black: rgb(26, 22, 29); /* #1A161D */

    /* Legacy color variables (kept for backwards compatibility) */
    --color-light: rgb(204, 238, 242); /* #CCEEF2 */
    --color-mid: rgb(42, 102, 159); /* #2A669F */
    --color-dark: rgb(20, 32, 74); /* #14204A */
    --color-highlight: rgb(208, 64, 20); /* #D04014 */

    --color-active: rgb(69, 154, 89); /* #459A59 - darker green with better contrast */
    --color-warning: rgb(244, 190, 102); /* #F4BE66 */
    --color-inactive: rgb(216, 247, 245); /* #d6e4f7 */
    --color-error: rgb(208, 64, 20); /* #D04014 */

    /* Full Tailwind UI compatible color scale - Primary (Blue palette) */
    --color-primary-50: rgb(240, 249, 255); /* Very light blue */
    --color-primary-100: rgb(224, 242, 254); /* Lighter blue */
    --color-primary-200: rgb(186, 230, 253); /* Light blue */
    --color-primary-300: rgb(125, 211, 252); /* Medium light blue */
    --color-primary-400: rgb(56, 189, 248); /* Medium blue */
    --color-primary-500: rgb(42, 102, 159); /* Main brand color (mid) */
    --color-primary-600: rgb(35, 85, 132); /* Darker blue */
    --color-primary-700: rgb(28, 68, 106); /* Dark blue */
    --color-primary-800: rgb(22, 52, 82); /* Very dark blue */
    --color-primary-900: rgb(20, 32, 74); /* Darkest (dark) */
    --color-primary-950: rgb(15, 24, 55); /* Ultra dark */

    /* Gray scale for UI elements (same across themes) */
    --color-gray-50: rgb(249, 250, 251);
    --color-gray-100: rgb(243, 244, 246);
    --color-gray-200: rgb(229, 231, 235);
    --color-gray-300: rgb(209, 213, 219);
    --color-gray-400: rgb(156, 163, 175);
    --color-gray-500: rgb(107, 114, 128);
    --color-gray-600: rgb(75, 85, 99);
    --color-gray-700: rgb(55, 65, 81);
    --color-gray-800: rgb(31, 41, 55);
    --color-gray-900: rgb(17, 24, 39);
    --color-gray-950: rgb(3, 7, 18);
  }

  a.block-link:after {
    position: absolute;
    content: '';
    inset: 0;
  }

  /* Admin gradient backgrounds */
  html[data-theme='default'] .bg-gradient-admin {
    background: linear-gradient(to bottom right, rgb(33, 29, 73), rgb(141, 94, 183));
  }

  html[data-theme='sky'] .bg-gradient-admin {
    background: linear-gradient(to bottom right, rgb(20, 32, 74), rgb(42, 102, 159));
  }
}

/* Form input styles */
@layer components {
  /* Base form field styles - matches panda-cms admin pattern */
  input[type='text'],
  input[type='email'],
  input[type='password'],
  input[type='url'],
  input[type='tel'],
  input[type='number'],
  input[type='date'],
  input[type='datetime-local'],
  input[type='month'],
  input[type='week'],
  input[type='time'],
  input[type='search'],
  textarea {
    @apply block w-full rounded-md border-0 p-2 text-gray-900 bg-white;
    @apply ring-1 ring-inset ring-mid placeholder:text-gray-300;
    @apply focus:ring-1 focus:ring-inset focus:ring-dark;
    @apply hover:cursor-pointer sm:leading-6;
    @apply disabled:ring-gray-300 disabled:focus:ring-gray-300 disabled:bg-gray-50 disabled:cursor-not-allowed;
  }

  /* Select specific styling - matches panda-cms admin pattern */
  select {
    @apply block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 bg-white;
    @apply ring-1 ring-inset ring-mid;
    @apply focus:ring-1 focus:ring-inset focus:ring-dark;
    @apply hover:cursor-pointer sm:leading-6;
    @apply disabled:ring-gray-300 disabled:focus:ring-gray-300 disabled:bg-gray-50 disabled:cursor-not-allowed;
    @apply appearance-none bg-right bg-no-repeat;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-size: 1.5em 1.5em;
  }

  /* Checkbox and radio styling */
  input[type='checkbox'],
  input[type='radio'] {
    @apply w-4 h-4 text-indigo-600 bg-white border-gray-300 rounded transition-colors duration-200;
    @apply focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2;
    @apply disabled:bg-gray-100 disabled:cursor-not-allowed;
  }

  input[type='radio'] {
    @apply rounded-full;
  }

  /* Label styling */
  label {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }

  /* Field wrapper styling */
  .field {
    @apply mb-4;
  }

  /* Error state styling */
  input.error,
  textarea.error,
  select.error {
    @apply ring-red-500 focus:ring-red-500;
  }

  .field-error {
    @apply text-sm text-red-600 mt-1;
  }

  /* Button styling */
  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 text-base font-semibold rounded-md transition-colors duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply bg-mid text-white hover:opacity-90 focus:ring-mid;
  }

  .btn-secondary {
    @apply bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500;
  }

  .btn-danger {
    @apply bg-red-600 text-white hover:bg-red-700 focus:ring-red-500;
  }

  a.block-link:after {
    position: absolute;
    content: '';
    inset: 0;
  }
}

/* EditorJS content styles */
@layer components {
  .codex-editor__redactor .ce-block .ce-block__content {
    @apply text-base font-normal font-sans text-dark leading-[1.6] space-y-[1.6rem];

    h1.ce-header {
      @apply text-3xl md:text-4xl font-semibold font-sans leading-[1.2];
    }

    h2.ce-header {
      @apply text-2xl font-medium font-sans leading-[1.3] mb-4 mt-8;
    }

    h3.ce-header {
      @apply text-xl font-normal font-sans leading-[1.3] mb-4 mt-6;
    }

    p,
    li {
      @apply leading-[1.6] tracking-wide max-w-[85ch];

      a {
        @apply text-[#1A9597] underline underline-offset-2 hover:text-[#158486] focus:outline-2 focus:outline-offset-2 focus:outline-[#1A9597];
      }

      strong,
      b {
        @apply font-semibold;
      }
    }

    p {
      @apply mb-4;
    }

    .cdx-quote {
      @apply bg-[#eef0f3] border-l-inactive border-l-8 p-6 mb-4;

      .cdx-quote__caption {
        @apply block ml-6 mt-2 text-sm text-dark;
      }

      .cdx-quote__text {
        quotes: '\201C' '\201D' '\2018' '\2019';
        @apply pl-6;

        &:before {
          @apply -ml-8 mr-2 text-dark text-6xl leading-4 align-text-bottom font-serif;
          content: open-quote;
        }

        p {
          @apply inline italic text-lg;
        }
      }
    }

    .cdx-list {
      @apply mb-4 pl-6;

      &--ordered {
        @apply list-decimal;
      }

      &--unordered {
        @apply list-disc;
      }

      .cdx-list {
        @apply mt-2 mb-0;
      }

      .cdx-list__item {
        @apply mb-2 pl-2;
      }
    }

    .cdx-nested-list {
      @apply mb-4 pl-6;

      &--ordered {
        @apply list-decimal;
      }

      &--unordered {
        @apply list-disc;
      }

      .cdx-nested-list {
        @apply mt-2 mb-0;
      }

      .cdx-nested-list__item {
        @apply mb-2 pl-2;
      }
    }

    .cdx-table {
      @apply w-full border-collapse border-2 border-dark my-6;

      &__head {
        @apply font-semibold border-dark border-r-2 p-3 bg-light;
      }

      &__row {
        @apply border-dark border-b-2;
      }

      &__cell {
        @apply border-dark border-r-2 p-3;
      }
    }

    .cdx-embed {
      iframe {
        @apply w-full border-none;
      }
    }
  }
}
