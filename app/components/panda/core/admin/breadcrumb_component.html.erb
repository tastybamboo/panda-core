<div>
  <%# Mobile back link %>
  <% if @show_back && @items.any? %>
    <nav aria-label="Back" class="sm:hidden">
      <%= content_tag :a, href: back_link_href, class: "flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300" do %>
        <%= render_chevron_left_icon %>
        Back
      <% end %>
    </nav>
  <% end %>

  <%# Desktop breadcrumb trail %>
  <nav aria-label="Breadcrumb" class="hidden sm:flex">
    <ol role="list" class="flex items-center space-x-4">
      <% @items.each_with_index do |item, index| %>
        <li>
          <% if index.zero? %>
            <%# First item (no separator) %>
            <div class="flex">
              <%= content_tag :a, item[:text], href: item[:href], class: breadcrumb_link_classes(index) %>
            </div>
          <% else %>
            <%# Subsequent items (with separator) %>
            <div class="flex items-center">
              <%= render_chevron_right_icon %>
              <%= content_tag :a, item[:text],
                  href: item[:href],
                  aria: ((index == @items.length - 1) ? {current: "page"} : nil),
                  class: breadcrumb_link_classes(index) %>
            </div>
          <% end %>
        </li>
      <% end %>
    </ol>
  </nav>
</div>
